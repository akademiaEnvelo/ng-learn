<form [formGroup]="teamForm" (ngSubmit)="sendForm()">
  <fieldset>
    <legend>Dru≈ºyna</legend>
    <div>
      <label>Nazwa</label><br />
      <input
        [class.error]="teamNameCtrl.touched && teamNameCtrl.errors"
        formControlName="teamName"
        placeholder="Nazwa"
      />

      <ng-container *ngIf="teamNameCtrl.errors as errors">
        <ng-container *ngIf="teamNameCtrl.touched">
          <p *ngIf="errors['required']">Te pole jest obowiƒÖzkowe</p>
          <p *ngIf="errors['minlength'] as milLength">
            Poda≈Çe≈õ {{ milLength.actualLength }} znaki, minimum to
            {{ milLength.requiredLength }}
          </p>
        </ng-container>
      </ng-container>

      {{ teamNameCtrl.errors | json }}
    </div>

    <div>
      <label>Trener</label><br />
      <input
        formControlName="coachName"
        placeholder="Imiƒô i nazwisko trenera"
      />
    </div>

    <div>
      <label>Herb klubu</label><br />
      <input
        (change)="setLogoFileToForm($event)"
        type="file"
        placeholder="Nazwa"
      />
    </div>

    <img *ngIf="logoPreviewURL" [src]="logoPreviewURL" />
  </fieldset>

  <input formControlName="hasCreatedYear" type="checkbox" /> rok za≈Ço≈ºenia?

  <textarea
    *ngIf="teamForm.controls.hasCreatedYear.value"
    formControlName="createdAt"
    placeholder="wpisz rok za≈Ço≈ºenia"
  ></textarea>
  <br />

  <button (click)="addPlayer()" type="button">Dodaj zawodnika</button>
  <ol>
    <li
      *ngFor="
        let playerForm of teamForm.controls.players.controls;
        let index = index
      "
    >
      <div [formGroup]="playerForm">
        <fieldset>
          <legend>Add Player</legend>
          <div>
            <label>Imiƒô</label><br />
            <input formControlName="firstName" placeholder="Imiƒô" />
          </div>
          <div>
            <label>Nazwisko</label><br />
            <input placeholder="Nazwisko" />
          </div>

          <div>
            <label>Noga wiodƒÖca</label><br />
            <select>
              <option>Prawa</option>
              <option>Lewa</option>
              <option>Obuno≈ºny</option>
            </select>
          </div>
          <div>
            <label>Status wypo≈ºyczonego</label><br /><input type="checkbox" />
          </div>
        </fieldset>

        <button (click)="removePlayer(index)" type="button">
          <span>üóë</span>
        </button>
      </div>
    </li>
  </ol>
  <button>Zapisz</button>
</form>
